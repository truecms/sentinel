I am not a python programmer, so when I am writing python code, I need help.
Try to solve problem by provindg revritten code rather than replying how to fix, unless I ask you for it.
This is dev environment and early stages of discovery, so good to rewrite from scratch if too complex.

When providing code snippets, always use existing files and do not remove code unless absolutely necessary to achieve functionality
in question.